{% extends "base.html" %}
{% load i18n %}
{% load allauth %} {% block title %}{% trans "Confirmar E-mail" %}{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">

        {% if confirmation %}
            {% user_display confirmation.email_address.user as user_display %}
            
            <div class="auth-header">
                <div class="auth-icon-wrapper">
                    <i class="bi bi-envelope-check-fill auth-icon"></i>
                </div>
                <h2 class="auth-title">{% trans "Confirmar seu E-mail" %}</h2>
            </div>
            
            <div class="auth-body">
                <p class="text-center text-muted-2 mb-4">
                    {% blocktrans with confirmation.email_address.email as email %}
                    Por favor, confirme que <strong class="text-white">{{ email }}</strong> é o seu endereço de e-mail.
                    {% endblocktrans %}
                </p>
                
                <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
                    {% csrf_token %}
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">{% trans "Confirmar" %}</button>
                    </div>
                </form>
            </div>

        {% else %}
            {% url 'account_email' as email_url %}
            
            <div class="auth-header">
                <div class="auth-icon-wrapper">
                    <i class="bi bi-x-octagon-fill auth-icon text-danger"></i>
                </div>
                <h2 class="auth-title">{% trans "Link Inválido" %}</h2>
            </div>

            <div class="auth-body">
                <p class="text-center text-muted-2">
                    {% blocktrans %}
                    O link de confirmação que você usou está expirado, é inválido ou já foi utilizado. Por favor, <a href="{{ email_url }}">solicite uma nova confirmação</a>.
                    {% endblocktrans %}
                </p>
            </div>

        {% endif %}
        
    </div>
</div>
{% endblock %}